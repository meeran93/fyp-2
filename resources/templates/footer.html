
      <!-- Bootstrap core JavaScript
      ================================================== -->
      <!-- Placed at the end of the document so the pages load faster -->
        <script type='text/javascript' src="assets/js/jquery-2.0.3.min.js"></script>
        <script src="assets/plugins/jquery-ui/jquery-ui-1.9.2.custom.min.js"></script>

        <script type='text/javascript' src="assets/js/bootstrap.min.js"></script>
        <script type='text/javascript' src="assets/js/invoiceShelf.js"></script>
        <script type='text/javascript' src="assets/plugins/bootstrap-datepicker/bootstrap-datepicker.js"></script>
        <script type='text/javascript' src="assets/plugins/form-validator/jquery.form-validator.min.js"></script>
        <script type='text/javascript' src="assets/plugins/datatables/jquery.dataTables.js"></script>
        <script type='text/javascript' src="assets/js/invoiceShelfAdmin.js"></script>
        <script src="assets/plugins/bootstrap-select2/select2.min.js" type="text/javascript"></script>
        <script src="assets/plugins/bootstrap-dialog/js/bootstrap-dialog.js"></script>
        <script src="assets/plugins/fooTable/js/footable.js"></script>
        <script src="assets/plugins/jQuery-TE_v.1.4.0/jquery-te-1.4.0.min.js"></script>
        <script src="assets/plugins/barrating/js/jquery.barrating.js"></script>
		<script src="assets/plugins/clipboard.js-master/dist/clipboard.min.js"></script>
    
        <script type="text/javascript">

            $(document).ready(function() {
                
                // this function will always run automatically whenever the website is loaded
                $(function() {
                    // initialize rating bars
                    ratingEnable();
                    // initialize copy to clipboard feature in forms table
                    new Clipboard('.clipboard-btn');
                    // initialize tooltip for copy to clipboard buttons
                    $('[data-toggle="tooltip"]').tooltip();
                    // footable plugin - to make tables responsive
                    $('.footable').footable();
                    // initialize autocomplete select box plugin for all select boxes
                    autocompleteSelectBox();
                });

                // Change status ajax
                $('.reject-btn, .shortlist-btn').click(function() {
                    var candidate_id = $(this).data("candidate-id");
                    var action = $(this).data("action");
                    var self = $(this);
                    $.post("change-candidate-status-ajax.php", 
                        {
                            candidate_id: candidate_id,
                            action: action
                        },
                        function(data, status) {
                            if(status==='success') {
                                console.log(data);
                                if(action === 'shortlist') {
                                    self.parent().parent().siblings('.status').html("<u>SHORTLISTED</u>");
                                    self.attr('disabled','disabled')
                                    self.parent().attr('title', 'Shortlisted !').tooltip('fixTitle').tooltip('show');
                                    self.parent().siblings('.reject-btn-div').children().removeAttr("disabled");
                                    self.parent().siblings('.interview-btn-div').children().removeAttr("disabled");
                                    self.parent().siblings('.reject-btn-div').attr('title', 'Reject').tooltip('fixTitle');
                                    self.parent().siblings('.interview-btn-div').attr('title', 'Send interview email').tooltip('fixTitle');
                                }
                                else if(action === 'reject') {
                                    self.parent().parent().siblings('.status').html("<u>REJECTED</u>");
                                    self.attr('disabled','disabled')
                                    self.parent().attr('title', 'Rejected !').tooltip('fixTitle').tooltip('show');
                                    self.parent().siblings('.shortlist-btn-div').children().removeAttr("disabled");
                                    self.parent().siblings('.shortlist-btn-div').attr('title', 'Shortlist').tooltip('fixTitle');
                                }
                            }
                            else {
                                alert('Sorry, operation failed');
                            }
                        }    
                    );
                });

                // START - Custom Requirement addition functionality in Create Form Page
                var getCategories = function() {
                    var categories = $(".panel-body").data('categories');
                    var category_options = "";
                    for(var i=0;i<categories.length;i++){
                        category_options += '<option value="' + categories[i]['category_id'] + '">' + categories[i]['category_name'] + '</option>';
                    }
                    return category_options;
                }
                $('.custom-field-of-study').click(function() {
                    BootstrapDialog.show(
                        {
                            title: 'Add new \'Field of Study\' for adding as a \'Education Requirement\'',
                            message:'<label class="control-label">Field of study: </label><input type="text" class="form-control field_name"><label class="control-label">Category: </label><select class="form-control field_of_study_category"><option value="" disabled selected>- Select Category -</option>' + getCategories() + '</select>',
                            buttons: [ 
                                {
                                    label: 'Save',
                                    icon: 'glyphicon glyphicon-save',
                                    cssClass: 'btn-primary',
                                    action: function(dialogItself){
                                        var field_name = $('.field_name')[0].value;
                                        var category = $('.field_of_study_category')[0].value;
                                        if(!field_name || !category) {
                                            if(!field_name) BootstrapDialog.alert('Please enter Field name');
                                            else BootstrapDialog.alert('Please select Category');
                                        }
                                        else {
                                            $.post("add-custom-requirements-ajax.php", 
                                                {
                                                    field_name: field_name,
                                                    category: category
                                                },
                                                function(data, status) {
                                                    if(status==='success') {
                                                        var result = JSON.parse(data);
                                                        var current_fields = $("#educationList").data('fields');
                                                        current_fields.push(result);
                                                        $("#educationList").data('fields',current_fields);
                                                        $(".field-of-study-options").append('<option value="' + result["field_id"] + '">' + result["field_name"] + '</option>');
                                                        BootstrapDialog.alert("New Field of Study has been successfully added and is ready for use.");
                                                        dialogItself.close();
                                                    }
                                                    else {
                                                        alert('Sorry, new data could not be saved. Please try again');
                                                        dialogItself.close();
                                                    }
                                                }    
                                            );
                                        }
                                        
                                    }
                                }, 
                                {
                                    label: 'Cancel',
                                    action: function(dialogItself){
                                        dialogItself.close();
                                    }
                                }
                            ]
                        }
                    );
                });
                $('.custom-skill').click(function() {
                    BootstrapDialog.show(
                        {
                            title: 'Add new \'Skill\' for adding as a \'Skill Requirement\'',
                            message:'<label class="control-label">Skill name: </label><input type="text" class="form-control skill_name"><label class="control-label">Category: </label><select class="form-control skill_category"><option value="" disabled selected>- Select Category -</option>' + getCategories() + '</select>',
                            buttons: [ 
                                {
                                    label: 'Save',
                                    icon: 'glyphicon glyphicon-save',
                                    cssClass: 'btn-primary',
                                    action: function(dialogItself){
                                        var skill_name = $('.skill_name')[0].value;
                                        var category = $('.skill_category')[0].value;
                                        if(!skill_name || !category) {
                                            if(!skill_name) BootstrapDialog.alert('Please enter Skill name');
                                            else BootstrapDialog.alert('Please select Category');
                                        }
                                        else {
                                            $.post("add-custom-requirements-ajax.php", 
                                                {
                                                    skill_name: skill_name,
                                                    category: category
                                                },
                                                function(data, status) {
                                                    if(status==='success') {
                                                        var result = JSON.parse(data);
                                                        var current_skills = $("#skillsList").data('skills');
                                                        current_skills.push(result);
                                                        $("#skillsList").data('skills', current_skills);
                                                        $(".skill-options").append('<option value="' + result["skill_id"] + '">' + result["skill_name"] + '</option>');
                                                        BootstrapDialog.alert("New 'Skill' has been successfully added and is ready for use.");
                                                        dialogItself.close();
                                                    }
                                                    else {
                                                        alert('Sorry, new data could not be saved. Please try again');
                                                        dialogItself.close();
                                                    }
                                                }    
                                            );
                                        }                                        
                                    }
                                }, 
                                {
                                    label: 'Cancel',
                                    action: function(dialogItself){
                                        dialogItself.close();
                                    }
                                }
                            ]
                        }
                    );
                });
                $('.custom-experience').click(function() {
                    BootstrapDialog.show(
                        {
                            title: 'Add new \'Experience\' for adding as a \'Experience Requirement\'',
                            message:'<label class="control-label">Experience: </label><input type="text" class="form-control experience_name">',
                            buttons: [
                                {
                                    label: 'Save',
                                    icon: 'glyphicon glyphicon-save',
                                    cssClass: 'btn-primary',
                                    action: function(dialogItself){
                                        var experience_name = $('.experience_name')[0].value;
                                        if(!experience_name) {
                                            BootstrapDialog.alert('Please enter desired Experience');
                                        }
                                        else {
                                            $.post("add-custom-requirements-ajax.php",
                                                    {
                                                        experience_name: experience_name
                                                    },
                                                    function(data, status) {
                                                        if(status==='success') {
                                                            var result = JSON.parse(data);
                                                            var current_experience = $("#experienceList").data('titles');
                                                            current_experience.push(result);
                                                            $("#experienceList").data('titles', current_experience);
                                                            $(".experience-options").append('<option value="' + result["experience_id"] + '">' + result["experience_name"] + '</option>');
                                                            BootstrapDialog.alert("New 'Experience' has been successfully added and is ready for use.");
                                                            dialogItself.close();
                                                        }
                                                        else {
                                                            alert('Sorry, new data could not be saved. Please try again');
                                                            dialogItself.close();
                                                        }
                                                    }
                                            );
                                        }
                                    }
                                },
                                {
                                    label: 'Cancel',
                                    action: function(dialogItself){
                                        dialogItself.close();
                                    }
                                }
                            ]
                        }
                    );
                });
                $('.custom-certification').click(function() {
                    BootstrapDialog.show(
                        {
                            title: 'Add new \'Certification\' for adding as a \'Certification Requirement\'',
                            message:'<label class="control-label">Certification name: </label><input type="text" class="form-control certification_name"><label class="control-label">Category: </label><select class="form-control certification_category"><option value="" disabled selected>- Select Category -</option>' + getCategories() + '</select>',
                            buttons: [ 
                                {
                                    label: 'Save',
                                    icon: 'glyphicon glyphicon-save',
                                    cssClass: 'btn-primary',
                                    action: function(dialogItself){
                                        var certification_name = $('.certification_name')[0].value;
                                        var category = $('.certification_category')[0].value;
                                        if(!certification_name || !category) {
                                            if(!certification_name) BootstrapDialog.alert('Please enter Certification name');
                                            else BootstrapDialog.alert('Please select Category');
                                        }
                                        else {
                                            $.post("add-custom-requirements-ajax.php", 
                                                {
                                                    certification_name: certification_name,
                                                    category: category
                                                },
                                                function(data, status) {
                                                    if(status==='success') {
                                                        var result = JSON.parse(data);
                                                        var current_certifications = $("#certificationList").data('certifications');
                                                        current_certifications.push(result);
                                                        $("#certificationList").data('certifications', current_certifications);
                                                        $(".certification-options").append('<option value="' + result["certification_id"] + '">' + result["certification_name"] + '</option>');
                                                        BootstrapDialog.alert("New 'Certification' has been successfully added and is ready for use.");
                                                        dialogItself.close();
                                                    }
                                                    else {
                                                        alert('Sorry, new data could not be saved. Please try again');
                                                        dialogItself.close();
                                                    }
                                                }    
                                            );
                                        }                                        
                                    }
                                }, 
                                {
                                    label: 'Cancel',
                                    action: function(dialogItself){
                                        dialogItself.close();
                                    }
                                }
                            ]
                        }
                    );
                });
                // END - Custom Requirement addition functionality in Create Form Page
            
                // START - Change form status button
                $('.change-status-btn').click(function() {
                    var self = $(this);
                    var form_id = self.data('form-id');
                    var form_status = self.data('status');
                    if(form_status==='EXPIRED') {
                        BootstrapDialog.show({
                            title: 'Please set the new expiry date',
                            message:'<div class="row"><div class="col-md-9"><label class="control-label col-md-4">New Expiry date: </label><div class="col-md-6"><input type="date" class="form-control new_expiry_date"></div></div></div>',
                            buttons: [ {
                                label: 'Yes',
                                cssClass: 'btn-primary',
                                action: function(dialogItself){
                                    var new_expiry_date = $('.new_expiry_date')[0].value;
                                    var desired_expiry_date = new Date(new_expiry_date);
                                    var month_names_short=['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];                               
                                    if(!new_expiry_date) {
                                        BootstrapDialog.alert('Please enter expiry date.');
                                    }
                                    else {
                                        $.post("change-form-status-ajax.php",
                                            {
                                                form_id: form_id,
                                                action: 'ENABLED',
                                                expiry_date: new_expiry_date
                                            },
                                            function(data, status) {
                                                if(status==='success') {
                                                    self.removeClass("btn-danger").addClass("btn-success");
                                                    self.data('status', "ENABLED");
                                                    self.parent().siblings('.status').html("ENABLED");
                                                    self.parent().siblings('.expiry-date').html(desired_expiry_date.getDate() + 
                                                        '-' + 
                                                        (month_names_short[desired_expiry_date.getMonth()]) + 
                                                        '-' +  
                                                        desired_expiry_date.getFullYear());
                                                    self.attr('title', 'Disable this form').tooltip('fixTitle');
                                                    dialogItself.close();
                                                }
                                                else {
                                                    alert('Sorry, new data could not be saved. Please try again');
                                                    dialogItself.close();
                                                }
                                            }    
                                        );
                                    }                                        
                                }
                            },  {
                                label: 'No',
                                action: function(dialogItself){
                                    dialogItself.close();
                                }
                            }]
                        });
                    }
                    else if(form_status==='DISABLED') {
                        var current_expiry_date = new Date(self.parent().siblings('.expiry-date').html());
                        var today = new Date();
                        if(current_expiry_date > today) {
                            $.post("change-form-status-ajax.php",
                                {
                                    form_id: form_id,
                                    action: 'ENABLED'
                                },
                                function(data, status) {
                                    if(status==='success') {
                                        self.removeClass("btn-default").addClass("btn-success");
                                        self.data('status', "ENABLED");
                                        self.parent().siblings('.status').html("ENABLED");
                                        self.attr('title', 'Disable this form').tooltip('fixTitle');
                                    }
                                    else {
                                        alert('Sorry, new data could not be saved. Please try again');
                                    }
                                }    
                            );
                        }
                        else if(current_expiry_date <= today) {
                            BootstrapDialog.show({
                                title: 'The form\'s expiry date has passed. To activate this form again, please set a new expiry date',
                                message:'<div class="row"><div class="col-md-9"><label class="control-label col-md-4">New Expiry date: </label><div class="col-md-6"><input type="date" class="form-control new_expiry_date"></div></div></div>',
                                buttons: [ {
                                    label: 'Update',
                                    cssClass: 'btn-primary',
                                    action: function(dialogItself){
                                        var new_expiry_date = $('.new_expiry_date')[0].value;
                                        var desired_expiry_date = new Date(new_expiry_date);
                                        var month_names_short=['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];                               
                                        if(!new_expiry_date) {
                                            BootstrapDialog.alert('Please enter expiry date.');
                                        }
                                        else {
                                            $.post("change-form-status-ajax.php",
                                                {
                                                    form_id: form_id,
                                                    action: 'ENABLED',
                                                    expiry_date: new_expiry_date
                                                },
                                                function(data, status) {
                                                    if(status==='success') {
                                                        self.removeClass("btn-default").addClass("btn-success");
                                                        self.data('status', "ENABLED");
                                                        self.parent().siblings('.status').html("ENABLED");
                                                        self.parent().siblings('.expiry-date').html(desired_expiry_date.getDate() + 
                                                            '-' + 
                                                            (month_names_short[desired_expiry_date.getMonth()]) + 
                                                            '-' +  
                                                            desired_expiry_date.getFullYear());
                                                        self.attr('title', 'Disable this form').tooltip('fixTitle');
                                                        dialogItself.close();
                                                    }
                                                    else {
                                                        alert('Sorry, new data could not be saved. Please try again');
                                                        dialogItself.close();
                                                    }
                                                }    
                                            );
                                        }                                        
                                    }
                                },  {
                                    label: 'Cancel',
                                    action: function(dialogItself){
                                        $.post("change-form-status-ajax.php",
                                            {
                                                form_id: form_id,
                                                action: 'EXPIRED'
                                            },
                                            function(data, status) {
                                                if(status==='success') {
                                                    self.removeClass("btn-default").addClass("btn-danger");
                                                    self.data('status', "EXPIRED");
                                                    self.parent().siblings('.status').html("EXPIRED");
                                                    self.attr('title', 'Activate this form').tooltip('fixTitle');
                                                }
                                                else {
                                                    alert('Sorry, new data could not be saved. Please try again');
                                                }
                                            }    
                                        );
                                        dialogItself.close();
                                    }
                                }]
                            });
                        }
                    }
                    else {
                        $.post("change-form-status-ajax.php",
                            {
                                form_id: form_id,
                                action: 'DISABLED'
                            },
                            function(data, status) {
                                if(status==='success') {
                                    self.removeClass("btn-success").addClass("btn-default");
                                    self.data('status', "DISABLED");
                                    self.parent().siblings('.status').html("DISABLED");
                                    self.attr('title', 'Enable this form').tooltip('fixTitle');
                                }
                                else {
                                    alert('Sorry, new data could not be saved. Please try again');
                                }
                            }    
                        );    
                    }
                });
                // END - Change form status button

                // START - To give user the feedback whether the link has been copied or not
                $('.clipboard-btn').click(function() {
                    $('.clipboard-btn').attr('title', 'Copy application form link').tooltip('fixTitle');
                    $(this).attr('title', 'Copied!').tooltip('fixTitle').tooltip('show');
                });
                // END - To give user the feedback whether the link has been copied or not
                
                // START - select2 - a plugin to integrate autocompletion feature in select boxes
                function autocompleteSelectBox() {
                    $(".autocomplete-field").select2();
                }
                // END - select2 - a plugin to integrate autocompletion feature in select boxes

                // START - ratingbar plugin
                function ratingEnable() {
                    $('.rating-bar').barrating('show', {
                        theme: 'bars-1to10'
                    });
                }
                // END - ratingbar plugin

                // START - remove section functionlity in every form
				$(".remove_button").click(function() {
                    var mainDiv = $(this).parent().parent();
                    var nextDiv = mainDiv.next();
                    nextDiv.remove();
                    mainDiv.remove();
                });
                // END - remove section functionlity in every form
                
                // JQuery for section-addition-functionality - HR and Candidate pages both are covered are in this section
				
				// Adding education requirement - HR
                
				var getDegrees = function() {
					var degrees = $("#educationList").data('degrees');
					var degree_options = "";
					for(var i=0;i<degrees.length;i++){
						degree_options += '<option value="' + degrees[i]['degree_id'] + '">' + degrees[i]['degree_name'] + '</option>';
					}
					return degree_options;
				}
				
				var getFields = function() {
					var fields = $("#educationList").data('fields');
					var field_options = "";
					for(var i=0;i<fields.length;i++){
						field_options += '<option value="' + fields[i]['field_id'] + '">' + fields[i]['field_name'] + '</option>';
					}
					return field_options;
				}

                $("#addEducation").click(function() {
					var degree_options = getDegrees();
					var field_options = getFields();
                    var fieldWrapper = $('<div class="requirement-data education col-md-12">');
                    var fName = $('<label class="control-label col-md-1">Degree:</label><div class="col-md-3"><select class="form-control autocomplete-field" name="requirement_degree[]" required><option value="" disabled selected>- Select Degree -</option>' + degree_options + '</select></div><label class="control-label col-md-1">Field of Study:</label><div class="col-md-3"><select class="form-control field-of-study-options autocomplete-field" name="requirement_field[]" required><option value="" disabled selected>- Select Field -</option>' + field_options + '</select></div><label class="control-label col-md-1">Priority:</label><div class="col-md-2"><select class=rating-bar name=requirement_education_priority[] required><option value=1>1<option value=2>2<option value=3>3<option value=4>4<option value=5>5<option value=6>6<option value=7>7<option value=8>8<option value=9>9<option value=10>10</select></div>');
                    var removeButton = $('<div class="col-md-1"><a style="cursor:pointer"><span class="remove glyphicon glyphicon-remove"></span></a></div></div><div class="col-md-12" style="height:1px; background:#aaa; margin:10px 0"></div>');
                    removeButton.click(function() {
                        $(this).parent().remove();
                    });
                    fieldWrapper.append(fName);
                    fieldWrapper.append(removeButton);
                    $("#educationList").append(fieldWrapper);
                    autocompleteSelectBox();
                    ratingEnable();
                });
                // END - Adding education requirement - HR
                
				// Adding education info - Candidate [Doesn't have Priority field] ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~START
                $("#addEducationCandidate").click(function() {
				    var degree_options = getDegrees();
                    var field_options = getFields();
                    var fieldWrapper = $('<div class="requirement-data education col-md-12">');
                    var fName = $('<div class="candidate-data col-md-8"><label class="control-label col-md-2">School/Institute:</label><div class="col-md-10"><input type="text" class="form-control" name="requirement_school[]"></div></div><div class="candidate-data col-md-8"><label class="control-label col-md-2">Dates Attended:</label><div class="col-md-4"><input class="form-control" type="date" name="requirement_school_start[]" required></div><span class="col-md-1" style="margin-top:4px">-----</span><div class="col-md-4"><input class="form-control" type="date" name="requirement_school_end[]" required></div></div><div class="candidate-data col-md-8"><label class="control-label col-md-2">Degree:</label><div class="col-md-10"><select class="form-control autocomplete-field" name="requirement_degree[]" required><option value="" disabled selected>- Select Degree -</option>' + degree_options + '</select></div></div><div class="candidate-data col-md-8"><label class="control-label col-md-3">Field of Study:</label><div class="col-md-9"><select class="form-control autocomplete-field" name="requirement_field[]" required><option value="" disabled selected>- Select Field -</option>' + field_options + '</select></div></div></div>');

                    var removeButton = $('<div class="col-md-1"><a style="cursor:pointer"><span class="remove glyphicon glyphicon-remove"></span></a></div></div><div class="col-md-12" style="height:1px; background:#aaa; margin:10px 0"></div>');
                    removeButton.click(function() {
                        $(this).parent().remove();
                    });
                    fieldWrapper.append(fName);
                    fieldWrapper.append(removeButton);
                    $("#educationList").append(fieldWrapper);
                    autocompleteSelectBox();
                });
                // END - Adding education info - Candidate ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~END
				
                // Adding skill requirement - HR
                var getSkills = function() {
					var skills = $("#skillsList").data('skills');
					var skill_options = "";
					for(var i=0;i<skills.length;i++){
						skill_options += '<option value="' + skills[i]['skill_id'] + '">' + skills[i]['skill_name'] + '</option>';
					}
					return skill_options;
				}
				
                $("#addSkill").click(function() {
					var skill_options = getSkills();
                    var fieldWrapper = $('<div class="requirement-data-data skill col-md-10">');
                    var fName = $('<label class="control-label col-md-1">Skill:</label><div class="col-md-5"><select class="form-control autocomplete-field skill-options" name="requirement_skill[]" required><option value="" disabled selected>- Select Skill -</option>' + skill_options + '</select></div><label class="control-label col-md-1">Priority:</label><div class="col-md-3"><select class=rating-bar name=requirement_skill_priority[] required><option value=1>1<option value=2>2<option value=3>3<option value=4>4<option value=5>5<option value=6>6<option value=7>7<option value=8>8<option value=9>9<option value=10>10</select></div>');
                    var removeButton = $('<div class="col-md-1"><a style="cursor:pointer"><span class="remove glyphicon glyphicon-remove"></span></a></div><div class="col-md-12" style="height:1px; background:#aaa; margin:10px 0"></div>');
                    removeButton.click(function() {
                        $(this).parent().remove();
                    });
                    fieldWrapper.append(fName);
                    fieldWrapper.append(removeButton);
                    $("#skillsList").append(fieldWrapper);
                    autocompleteSelectBox();
                    ratingEnable();
                });
                // END - Adding skill requirement - HR
				
				// Adding skill info - Candidate
				$("#addCandidateSkill").click(function() {
					var skill_options = getSkills();
                    var fieldWrapper = $('<div class="candidate-data skill col-md-10">');
                    var fName = $('<label class="control-label col-md-1">Skill:</label><div class="col-md-4"><select class="form-control autocomplete-field" name="requirement_skill[]" required><option value="" disabled selected>- Select Skill -</option>' + skill_options + '</select></div><label class="control-label col-md-3">Level of Expertise:</label><div class="col-md-3"><select class=rating-bar name=requirement_skill_expertise[] required><option value=1>1<option value=2>2<option value=3>3<option value=4>4<option value=5>5<option value=6>6<option value=7>7<option value=8>8<option value=9>9<option value=10>10</select></div>');
                    var removeButton = $('<div class="col-md-1"><a style="cursor:pointer"><span class="remove glyphicon glyphicon-remove"></span></a></div><div class="col-md-12" style="height:1px; background:#aaa; margin:10px 0"></div>');
                    removeButton.click(function() {
                        $(this).parent().remove();
                    });
                    fieldWrapper.append(fName);
                    fieldWrapper.append(removeButton);
                    $("#skillsList").append(fieldWrapper);
                    autocompleteSelectBox();
                    ratingEnable();
                });
                // END - Adding skill info - Candidate
				
                // Adding experience requirement - HR
                var getWorkTitles = function() {
					var titles = $("#experienceList").data('titles');
					var title_options = "";
					for(var i=0;i<titles.length;i++){
						title_options += '<option value="' + titles[i]['title_id'] + '">' + titles[i]['title_name'] + '</option>';
					}
					return title_options;
				}
                $("#addExperience").click(function() {
				    var title_options = getWorkTitles();
                    var fieldWrapper = $('<div class="requirement-data experience col-md-12">');
                    var fName = $('<label class="control-label col-md-1">Field Type:</label><div class="col-md-4"><select class="form-control experience-options autocomplete-field" name="requirement_experience[]" required><option value="" disabled selected>- Select Area -</option>' + title_options + '</select></div><label class="control-label col-md-2">Years of Experience:</label><div class="col-md-1"><input type="number" class="form-control" name="requirement_experience_years[]" min=0 required></div><label class="control-label col-md-1">Priority:</label><div class=col-md-2><select class=rating-bar name=requirement_experience_priority[] required><option value=1>1<option value=2>2<option value=3>3<option value=4>4<option value=5>5<option value=6>6<option value=7>7<option value=8>8<option value=9>9<option value=10>10</select></div>');
                    var removeButton = $('<div class="col-md-1"><a style="cursor:pointer"><span class="remove glyphicon glyphicon-remove"></span></a></div><div class="col-md-12" style="height:1px;background:#aaa;margin:10px 0"></div>');
                    removeButton.click(function() {
                        $(this).parent().remove();
                    });
                    fieldWrapper.append(fName);
                    fieldWrapper.append(removeButton);
                    $("#experienceList").append(fieldWrapper);
                    autocompleteSelectBox();
                    ratingEnable();
                });
                // END - Adding experience requirement - HR

                // Adding experience info - Candidate [Doesn't have Priority field] ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~START
                $("#addExperienceCandidate").click(function() {
                    var title_options = getWorkTitles();
                    var fieldWrapper = $('<div class="requirement-data experience"></div>');
                    var fName = $('<div class="candidate-data col-md-8"> <label class="control-label col-md-2">Company:</label> <div class="col-md-10"> <input class="form-control" name="requirement_experience_company[]"> </div></div><div class="candidate-data col-md-8"> <label class="control-label col-md-2">Title:</label> <div class="col-md-8"> <select class="form-control autocomplete-field" name="requirement_experience_title[]" required> <option value="" disabled selected>- Select Title -</option>' + title_options + '</select> </div></div><div class="candidate-data col-md-8"> <label class="control-label col-md-2">Start Date:</label> <div class="col-md-4"> <input type="date" class="form-control" name="requirement_experience_start_date[]" min="0" required> </div><label class="control-label col-md-2">End Date:</label> <div class="col-md-4"> <input type="date" class="form-control" name="requirement_experience_end_date[]" min="0" required> </div></div><div class="candidate-data col-md-8"> <label class="control-label col-md-2">Description:</label> <div class="col-md-10"> <textarea class="form-control" name="requirement_experience_description[]" style="height:120px" placeholder="Your responsibilities and achievements at the job"></textarea> </div></div>');
                    var removeButton = $('<div class="col-md-1"><a style=cursor:pointer><span class="remove glyphicon glyphicon-remove"></span></a></div>');
                    var seperator = $('<div class="col-md-12" style="height:1px;background:#aaa;margin:10px 0"></div>');
                    removeButton.click(function() {
                        $(this).parent().remove();
                    });
                    fieldWrapper.append(fName);
                    fieldWrapper.append(removeButton);
                    fieldWrapper.append(seperator);
                    $("#experienceList").append(fieldWrapper);
                    autocompleteSelectBox();
                });
                // END - Adding experience info - Candidate ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~END

                // Adding certification requirement -HR
				var getCertifications = function() {
					var certifications = $("#certificationList").data('certifications');
					var certification_options = "";
					for(var i=0;i<certifications.length;i++){
						certification_options += '<option value="' + certifications[i]['certification_id'] + '">' + certifications[i]['certification_name'] + '</option>';
					}
					return certification_options;
				}
                $("#addCertificate").click(function() {
				    var certification_options = getCertifications();
                    var fieldWrapper = $('<div class="candidate-data certification col-md-11">');
                    var fName = $('<label class="control-label col-md-2">Certification:</label><div class="col-md-5"><select class="form-control certification-options autocomplete-field" name="requirement_certification[]" required><option value="" disabled selected>- Select Certification -</option>' + certification_options + '</select></div><label class="control-label col-md-1">Priority:</label><div class="col-md-3"><select class=rating-bar name=requirement_certification_priority[] required><option value=1>1<option value=2>2<option value=3>3<option value=4>4<option value=5>5<option value=6>6<option value=7>7<option value=8>8<option value=9>9<option value=10>10</select></div>');
                    var removeButton = $('<div class=col-md-1><a style=cursor:pointer><span class="remove glyphicon glyphicon-remove"></span></a></div><div class="col-md-12" style="height:1px; background:#aaa; margin:10px 0"></div>');
                    removeButton.click(function() {
                        $(this).parent().remove();
                    });
                    fieldWrapper.append(fName);
                    fieldWrapper.append(removeButton);
                    $("#certificationList").append(fieldWrapper);
                    autocompleteSelectBox();
                    ratingEnable();
                });
                // END - Adding certification requirement - HR

                // Adding certification info - Candidate [Doesn't have Priority field. Has Date field] ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~START
                $("#addCertificateCandidate").click(function() {
                    var certification_options = getCertifications();
                    var fieldWrapper = $('<div class="candidate-data certification col-md-8">');
                    var fName = $('<label class="control-label col-md-2">Certification:</label><div class="col-md-4"><select class="form-control autocomplete-field" name="requirement_certification[]" required><option value="" disabled selected>- Select Certification -</option>' + certification_options + '</select></div><div><div class="col-md-2"><span>Date Awarded: </span></div><div class="col-md-3"><input type="date" class="form-control" name="requirement_certification_date[]"/></div></div>');
                    var removeButton = $('<div class="col-md-1"><a style="cursor:pointer"><span class="remove glyphicon glyphicon-remove"></span></a></div><div class="col-md-12" style="height:1px; background:#aaa; margin:10px 0"></div>');
                    removeButton.click(function() {
                        $(this).parent().remove();
                    });
                    fieldWrapper.append(fName);
                    fieldWrapper.append(removeButton);
                    $("#certificationList").append(fieldWrapper);
                    autocompleteSelectBox();
                });
                // END - Adding certification info - Candidate ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~END

                // END - JQuery for section-addition-functionality - HR and Candidate pages both are covered are in this section
				
                // REQUIREMENTS PAGE - Jquery for viewing and adding Skills, Certificates
                // Create new skill
				var getSkillsCategories = function() {
					var categories = $("#add-skills-list").data('skill-categories');
					var skill_category = "";
					for(var i=0;i<categories.length;i++){
						skill_category += '<option value="' + categories[i]['category_id'] + '">' + categories[i]['category_name'] + '</option>';
					}
					return skill_category;
				}
				$("#addNewSkill").click(function() {
                    var skill_category = getSkillsCategories();
					var fieldWrapper = $('<div class="candidate-data certification col-md-8">');
                    var fName = $('<label class="control-label col-md-1">Skill:</label><div class="col-md-4"><input type="text" class="form-control" name="new-skill[]" placeholder="Enter skill" required></div><div><label class="control-label col-md-2">Category:</label></div><div class="col-md-4"><select class="form-control autocomplete-field" name="skill-category[]" required><option value="" disabled selected>- Select Category -</option>' + skill_category + '</select></div>');
                    var removeButton = $('<div class="col-md-1"><a style="cursor:pointer"><span class="remove glyphicon glyphicon-remove"></span></a></div><div class="col-md-12" style="height:1px; background:#aaa; margin:10px 0"></div>');
                    removeButton.click(function() {
                        $(this).parent().remove();
                    });
                    fieldWrapper.append(fName);
                    fieldWrapper.append(removeButton);
                    $("#add-skills-list").append(fieldWrapper);
                    autocompleteSelectBox();
                });
                // END - Create new skill

                // Add New Experience
                $("#addNewExperience").click(function() {
                   
                    var fieldWrapper = $('<div class="candidate-data experience col-md-8">');
                    var fName = $('<label class="control-label col-md-2">Experience:</label><div class="col-md-4"><input type="text" class="form-control" name="new-experience[]" placeholder="Enter experience" required></div>');
                    var removeButton = $('<div class="col-md-1"><a style="cursor:pointer"><span class="remove glyphicon glyphicon-remove"></span></a></div><div class="col-md-12" style="height:1px; background:#aaa; margin:10px 0"></div>');
                    removeButton.click(function() {
                        $(this).parent().remove();
                    });
                    fieldWrapper.append(fName);
                    fieldWrapper.append(removeButton);
                    $("#add-experience-list").append(fieldWrapper);
                    autocompleteSelectBox();
                });
                //End -New Experience
                
				// Create new certificate
                var getCertificateCategories = function() {
                    var skills = $("#certificationList").data('certificate-categories');
                    var skill_category = "";
                    for(var i=0;i<skills.length;i++){
                        skill_category += '<option value="' + skills[i]['category_id'] + '">' + skills[i]['category_name'] + '</option>';
                    }
                    return skill_category;
                }

				$("#addNewCertificate").click(function() {
					var certificate_category = getCertificateCategories();
                    var fieldWrapper = $('<div class="candidate-data certification col-md-10">');
                    var fName = $('<label class="control-label col-md-2">Certificate title:</label><div class="col-md-3"><input type="text" class="form-control" name="new-certificate[]" required></div><div><label class="control-label col-md-1">Category:</label></div><div class="col-md-4"><select class="form-control autocomplete-field" name="certificate-category" required><option value="" disabled selected>- Select Category -</option>' + certificate_category + '</select></div>');
                    var removeButton = $('<div class="col-md-1"><a style="cursor:pointer"><span class="remove glyphicon glyphicon-remove"></span></a></div><div class="col-md-12" style="height:1px; background:#aaa; margin:10px 0"></div>');
                    removeButton.click(function() {
                        $(this).parent().remove();
                    });
                    fieldWrapper.append(fName);
                    fieldWrapper.append(removeButton);
                    $("#certificationList").append(fieldWrapper);
                    autocompleteSelectBox();
                });
                // END - Create new certificate
                // END -REQUIREMENTS PAGE - Jquery for viewing and adding Skills, Certificates\
            });
        </script>
                
    </body>
</html>